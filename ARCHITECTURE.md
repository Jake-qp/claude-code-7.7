# Architecture: Subscription Billing Dashboard

## Overview

A SaaS application for small business owners to manage their subscription billing, view invoices, update payment methods, and change subscription plans.

## Tech Stack

| Layer         | Technology              | Purpose                      |
| ------------- | ----------------------- | ---------------------------- |
| Framework     | Next.js 14 (App Router) | Full-stack React framework   |
| Language      | TypeScript              | Type-safe development        |
| Styling       | Tailwind CSS            | Utility-first styling        |
| UI Components | shadcn/ui               | Accessible component library |
| Database      | Supabase (PostgreSQL)   | Database + Auth + Realtime   |
| Payments      | Stripe                  | Subscription billing         |
| Hosting       | Vercel (recommended)    | Edge deployment              |

## User Persona

**Sarah** - A bakery owner with 5 employees who manages her software subscriptions. She's not technical but comfortable with basic web apps. She typically checks her billing once a month from her laptop at the shop.

## Core Features

1. **View Current Subscription** - See active plan details
2. **Billing History** - View past and upcoming invoices
3. **Update Payment Method** - Via Stripe Customer Portal
4. **Plan Management** - Upgrade/downgrade subscription

## Folder Structure

```
src/
├── app/                    # Next.js App Router pages
│   ├── (auth)/            # Auth routes (login, signup)
│   ├── dashboard/         # Protected dashboard routes
│   └── api/               # API routes
├── components/
│   ├── ui/                # shadcn/ui components
│   └── dashboard/         # Dashboard-specific components
├── lib/
│   ├── supabase/          # Supabase client utilities
│   └── stripe.ts          # Stripe utilities
├── types/                 # TypeScript type definitions
└── hooks/                 # Custom React hooks
```

## Data Flow

```
User Action → Next.js API Route → Supabase/Stripe → Response → UI Update
```

## Security Considerations

- All API routes protected with Supabase Auth
- Stripe webhook signature verification
- RLS policies on all database tables
- Environment variables for secrets

## External Integrations

| Service  | Purpose         | Credentials Required                        |
| -------- | --------------- | ------------------------------------------- |
| Supabase | Database + Auth | SUPABASE_URL, ANON_KEY, SERVICE_ROLE_KEY    |
| Stripe   | Payments        | SECRET_KEY, PUBLISHABLE_KEY, WEBHOOK_SECRET |

---

_Generated by Claude Code V7.7 Initializer Agent_
