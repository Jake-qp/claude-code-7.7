# Runbook

> Generated by Claude Code V7.7

## Health Checks

| Endpoint | Expected | Action if Failed |
|----------|----------|------------------|
| `GET /api/health` | 200 OK | Check server logs, restart if needed |
| `GET /api/health/db` | 200 OK | Check database connection |
| {{CUSTOM_HEALTH}} | {{EXPECTED}} | {{ACTION}} |

## Common Incidents

### Application Not Responding

**Symptoms:**
- Health check returns 5xx
- Requests timing out

**Diagnosis:**
```bash
# Check application logs
{{LOG_CHECK_COMMAND}}

# Check memory/CPU
{{RESOURCE_CHECK_COMMAND}}
```

**Resolution:**
1. Check for memory leaks or high CPU
2. Restart application if needed
3. Check for recent deploys
4. Rollback if deploy caused issue

**Prevention:**
- Monitor memory usage alerts
- Set up auto-scaling

---

### Database Connection Failed

**Symptoms:**
- API returns 500 errors
- Logs show "connection timeout" or "ECONNREFUSED"

**Diagnosis:**
```bash
# Check database status
{{DB_STATUS_COMMAND}}

# Check connection pool
{{POOL_CHECK_COMMAND}}
```

**Resolution:**
1. Verify DATABASE_URL environment variable
2. Check if database service is running
3. Verify network connectivity
4. Check connection pool limits

**Prevention:**
- Set up database monitoring
- Configure connection pool health checks

---

### High Error Rate

**Symptoms:**
- Error tracking shows spike
- User reports of failures

**Diagnosis:**
```bash
# Check recent errors
{{ERROR_LOG_COMMAND}}

# Check recent deploys
git log --oneline -10
```

**Resolution:**
1. Identify error pattern in logs
2. Check if recent deploy introduced issue
3. Rollback if needed
4. Hot-fix if simple

---

## Escalation

| Severity | Response Time | Contact |
|----------|---------------|---------|
| Critical (site down) | 15 min | {{CRITICAL_CONTACT}} |
| High (feature broken) | 1 hour | {{HIGH_CONTACT}} |
| Medium (degraded) | 4 hours | {{MEDIUM_CONTACT}} |

## Useful Commands

```bash
# View application logs
{{VIEW_LOGS}}

# Restart application
{{RESTART_APP}}

# Check deployment status
{{CHECK_DEPLOY}}

# Force re-deploy
{{FORCE_DEPLOY}}
```

---

*Last updated: {{TIMESTAMP}}*
